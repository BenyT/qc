//html片段
<div qc-view="myview">
    <div qc-visible="{show}" qc-animate="testAnimate" class="rect"></div>
    <input qc-click="veAnimate" type="button" value="动画">
    <br>
    <ul qc-each="list">
        <li qc-animate="testAnimate"><span qc-text="{text}"></span></li>
    </ul>
    <input qc-click="add" type="button" value="添加一行">
    <input qc-click="remove" type="button" value="删除第一行">
</div>
//html片段
<script>
    /*//自定义动画 这里action 有两个值
    *action 为1 显示状态的动画 2隐藏状态的动画
    * callback 在action为0的时候 执行完动画要调用callback
    * */
    qc.animate.testAnimate = function (action, callback) {
        if (action == "1") {
            $(this).hide();
            $(this).slideDown();
        } else if (action == "0") {
            $(this).slideUp(function () {
                callback();
            })
        }
    }
    qc.view("myview", function (vm, ve) {
        vm.show = true;
        vm.list = [{text: "动画测试" + qc.getRandom()}];
        ve.veAnimate = function () {
            vm.setValue("show", !vm.show);
        }
        ve.add = function () {
            //vm.listpush({text: "动画测试" + qc.getRandom()})
            vm.listconcat([{text: "动画测试" + qc.getRandom()},{text: "动画测试" + qc.getRandom()}])
            //vm.listunshift({text: "动画测试" + qc.getRandom()});
        }
        ve.remove = function () {
            vm.listsplice(0, 1);
            //vm.listpop();
            //vm.listshift()
        }
    })
</script>